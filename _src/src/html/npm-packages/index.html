---
title: NPM Packages
category: NPM
description: How to create and deploy your own npm packages.
date: 4/14/2019
hidden: false
---

<div class="blog-post">

  <div class="blog-post-image">
    <img src="./blog-post-image.jpg" alt="Blog Post Image">
    <div class="attribution">
      <a target="_blank"
        href="https://unsplash.com/@vtrsnts?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge">
        VÃ­tor Santos | Unsplash.com
      </a>
    </div>
  </div>

  <div class="content">

    <h1>NPM Packages</h1>

    <p>
      If you want to build reusable code for the front-end then you probably need to learn how to deploy npm packages to either the public npm repository or you or your company's own private npm repo.
    </p>

    <p>
      Like everything else we do, once you get the hang of it, it's actually a very easy process.
    </p>

    <p>
      For our first npm package we will make a simple utils library of functions that we can use to assign type-safe and null-safe values.
    </p>

    <h2>Create and deploy local packages</h2>

    <p>
      You might eventually want to release your packages to the public npm repo, but you might want a way to do all of your learning and development in a private space.
      That's where an application named Verdaccio comes in (<a href="https://github.com/verdaccio/verdaccio">https://github.com/verdaccio/verdaccio</a>).
    </p>

    <p>
      You can use Verdaccio as a private repo that your whole team can use, or you can install it on your own machine and use it as a sandbox environment.
      Either way, there's really not much difference in how you use it compared to how you use other private or public npm repos.
    </p>

    <h3>Verdaccio</h3>

    <p class="step">
      Install Verdaccio:
      <pre><code class="language-bash">
        npm i -g verdaccio
      </code></pre>
    </p>

    <p class="step">
      Run Verdaccio:
      <pre><code class="language-bash">
        verdaccio
      </code></pre>
    </p>

    <p class="step">
      Add a user to your local verdaccio repo:
      <pre><code class="language-bash">
        npm adduser --registry http://localhost:4873
      </code></pre>
    </p>

    <p class="step">
      Publish a package to your Verdaccio repo:
      <pre><code class="language-bash">
        npm publish --registry http://localhost:4873
      </code></pre>

      If you want to make sure that your package does not get published to the public npm repo, I recommend adding the publishConfig setting to your package.json file, like so:
      <pre><code class="language-text">
        "publishConfig": { "registry": "http://localhost:4873/" }
      </code></pre>
    </p>

    <p class="step">
      Install a package from your Verdaccio repo:
      <pre><code class="language-bash">
        npm install my-package --registry http://localhost:4873
      </code></pre>

      Or you can create a .npmrc file in your project and put the registry setting in it, then you won't have to use the registry flag when you install your package.
      <pre><code class="language-text">
        registry=http://localhost:4873
      </code></pre>
    </p>

    <p>
      Whenever you try to run npm commands in your project, make sure that verdaccio is running or you may get errors saying that your packages can't be found.
    </p>

    <h2>Create and deploy public packages</h2>

    <p>
      All of these commands work exactly the same for the public npm repo, except that you don't have to set the registry setting anywhere.
      Commands such as npm install and npm publish all point to that public repo by default.
    </p>

  </div>
</div>
